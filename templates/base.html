<!DOCTYPE html>
<html lang="en">
<head>

    {% block title %}<title>magora office</title>{% endblock %}
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
          integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">

    {% load static %}
</head>

<body>
<header>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="#"><img src="https://qrcode-app.co/img/logo-big.png" alt="Logo"
                                              style="width:40px;"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">

            </ul>
            <ul class="navbar-nav navbar-toggler-right">
                <!--                <li class="nav-item">-->
                <li class="nav-item dropdown">
                    {% if user.is_authenticated %}
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                       data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        {{ user }}
                    </a>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="{% url 'edit' %}">Личный кабинет</a>
                        <a class="dropdown-item" href="{% url 'logout' %}">Выход</a>
                    </div>
                </li>
            </ul>
            {% else %}
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'login' %}">Login</a>
                </li>
            </ul>
            {% endif %}
        </div>
    </nav>
</header>
{% block content %} {% endblock %}


<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"
        integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF"
        crossorigin="anonymous"></script>

<!-- XDSoft DateTimePicker -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.5.20/jquery.datetimepicker.min.css" integrity="sha256-DOS9W6NR+NFe1fUhEE0PGKY/fubbUCnOfTje2JMDw3Y=" crossorigin="anonymous" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.5.20/jquery.datetimepicker.full.min.js" integrity="sha256-FEqEelWI3WouFOo2VWP/uJfs1y8KJ++FLh2Lbqc8SJk=" crossorigin="anonymous"></script>


</body>
</html>

<script>
$('.edit_grop_checkbox').click(function () {
    var parent = $(this).parent().get(0);
    var checkboxId = parent .getElementsByTagName('input')[0].id;
    document.getElementById("edit_group").disabled = false;
    document.getElementById(checkboxId).classList.add('is-invalid')
    console.log(checkboxId);
});
</script>

<!--<script>-->
<!--https://stackoverflow.com/questions/7791507/how-can-i-select-all-checkboxes-from-a-form-using-pure-javascript-without-js-fr-->
<!--</script>-->


<script>
$(function () {
  $("#datetimepicker").datetimepicker();
});
</script>

<script>
$("#id_all").click(function () {
    $(".custom-control-input").prop('checked', $(this).prop('checked'));
});
</script>

<script>
$('#id_magora_user,#id_head,#id_freelance,#id_external_user').on('click', function (e) {
var parent = $(this).parent().get(0);
var radioId = parent .getElementsByTagName('input')[0].id;
console.log(radioId);
    e.stopPropagation();
    if (this.id == 'id_magora_user') {
        $("#id_emploeePanel").find("*").prop("disabled", false);
        $("#id_chiefPanel").find("*").prop("disabled", false);
        $("#access").find("*").prop("disabled", false);

        document.getElementById("datetimepicker").required = true;
<!--        $('#div_id_birthday_date').find("span").text('*');-->
        $('#birthday_date').find("strong").text('*');

        document.getElementById("addres_Pannel").required = true;
<!--        $('#addres_Pannel').find("span").text('*');-->
        $('#addres_Pannel').find("strong").text('*');

        $("#phone_Pannel").find("*").prop("required", true);

<!--        $('#id_freelancePanel').collapse('hide');-->
<!--        $('#id_magora_userPanel').collapse('show');-->

<!--    } else if (this.id == 'id_head') {-->
<!--        $("#id_emploeePanel").find("*").prop("disabled", false);-->
<!--        $("#id_chiefPanel").find("*").prop("disabled", false);-->
<!--        $("#access").find("*").prop("disabled", false);-->

<!--        document.getElementById("datetimepicker").required = true;-->
<!--        $('#div_id_birthday_date').find("span").text('*');-->

<!--        document.getElementById("addres_Pannel").required = true;-->
<!--        $('#addres_Pannel').find("span").text('*');-->

    } else if (this.id == 'id_freelance') {

            $("#is_syspass").find("*").prop("disabled", true);
            $("#is_hr").find("*").prop("disabled", true);

            document.getElementById("datetimepicker").required = false;
            $('#birthday_date').find("strong").text('');

            document.getElementById("id_country").required = false;
            $('#div_id_country').find("span").text('');
            document.getElementById("id_city").required = false;
            $('#div_id_city').find("span").text('');

            document.getElementById("addres_Pannel").required = true;
            $('#addres_Pannel').find("strong").text('');



    } else if (this.id == 'id_external_user') {
            $("#id_emploeePanel").find("*").prop("disabled", true);
            $("#is_syspass").find("*").prop("disabled", true);
            $("#is_hr").find("*").prop("disabled", true);

            document.getElementById("datetimepicker").required = false;
            $('#birthday_date').find("strong").text('');

            document.getElementById("id_country").required = false;
            $('#div_id_country').find("span").text('');
            document.getElementById("id_city").required = false;
            $('#div_id_city').find("span").text('');


           $("#phone_Pannel").find("*").prop("required", false);



    }
})
</script>

<script>
  $('#passwords_example').click(function() {
  $('#passwords_example_block').toggle();
});
</script>
